# Log
quarkus.log.category."br.com.caipora".level=${QUARKUS_LOG_LEVEL:INFO}

# Configuration file
# key = value
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{2.}] (%t) |%X{id}| %X{requestID}  %s%e%n

# Adicao de tags para todas as metricas a primeira e para todas, a segunda apenas para teste
mp.metrics.tags=app=${quarkus.application.name},version=${quarkus.application.version}
%test.mp.metrics.tags=app=app-test,version=1.0.0

# Configuracao do caminho para acessar a documentacao da aplicacao em swagger
quarkus.swagger-ui.path=/api-docs
quarkus.smallrye-openapi.path=/api-docs-json
quarkus.swagger-ui.always-include=true

# Configuracao das portas para teste (obs: nao usar porta 8081 no windows)
quarkus.http.test-port=8083
quarkus.http.test-ssl-port=8446

# -- local --
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=16
quarkus.datasource.jdbc.url=jdbc:postgresql://postgres_container:5432/desenv?currentSchema=eventos
quarkus.datasource.username=postgres
quarkus.datasource.password=changeme
caipora.broker.limite.qtd.recorrencia=${BROKER_LIMITE_RECORRENCIA:0}
caipora.broker.limite.tempo.segundos.limpa.pendentes.processamento=${BROKER_LIMITE_LIMPA_PENDENCIA:600}
caipora.broker.limite.tempo.segundos.keepalive=${TEMPO_KEEP_ALIVE:5}
caipora.broker.tamanho.paginacao.evento=${TAMANHO_PAGINACAO_EVENTOS:10}

%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:test;INIT=RUNSCRIPT FROM 'classpath:H2-DDL-geral.sql'
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/desenv?currentSchema=eventos
